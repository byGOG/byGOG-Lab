export async function fetchLinks(){const e=await fetch("links.json");if(!e.ok)throw new Error("links.json yÃ¼klenemedi");return e.json()}function createLinkItem(e){const t=document.createElement("li"),n=document.createElement("a");if(n.href=e.url,n.target="_blank",e.recommended){const e=document.createElement("span");e.className="star",e.title="Ã–nerilen",e.textContent="â˜…",n.appendChild(e)}let a;if(e.icon){a=document.createElement("span"),a.className="icon-wrapper";const t=document.createElement("img");t.loading="lazy",t.src=e.icon,e.alt&&(t.alt=e.alt),t.className="site-icon",a.appendChild(t),n.appendChild(a)}const l=document.createElement("span");if(l.className="link-text",l.textContent=normalizeText(e.name),n.appendChild(l),e.description){const t=document.createElement("span");if(t.className="custom-tooltip",e.icon){const n=document.createElement("img");n.loading="lazy",n.src=e.icon,e.alt&&(n.alt=e.alt),t.appendChild(n)}t.appendChild(document.createTextNode(normalizeText(e.description))),n.appendChild(t)}return t.appendChild(n),t}function renderCategories(e,t){const n=document.createDocumentFragment();e.categories.forEach(e=>{const t=document.createElement("div");t.className="category-card";const a=document.createElement("h2");if(a.textContent=normalizeText(e.title),t.appendChild(a),e.subcategories){const n=document.createElement("div");n.className="sub-category-container",e.subcategories.forEach(e=>{const t=document.createElement("div");t.className="sub-category";const a=document.createElement("h3");a.textContent=normalizeText(e.title),t.appendChild(a);const l=document.createElement("ul");e.links.forEach(e=>l.appendChild(createLinkItem(e))),t.appendChild(l),n.appendChild(t)}),t.appendChild(n)}else if(e.links){const n=document.createElement("ul");e.links.forEach(e=>n.appendChild(createLinkItem(e))),t.appendChild(n)}n.appendChild(t)}),t.appendChild(n)}function setupSearch(){const e=document.getElementById("search-input"),t=document.getElementById("search-status"),n=Array.from(document.querySelectorAll(".category-card li")),a=n.map(e=>e.textContent.toLowerCase());let l;function o(){const l=e.value.toLowerCase().trim();let o=0;n.forEach((e,t)=>{const n=a[t].includes(l);e.style.display=n?"":"none",n&&o++}),document.querySelectorAll(".category-card").forEach(e=>{const t=e.querySelectorAll(".sub-category");if(t.length){let n=!1;t.forEach(e=>{const t=e.querySelectorAll('li:not([style*="display: none"])').length>0;e.style.display=t?"":"none",t&&(n=!0)}),e.style.display=n?"":"none"}else{const t=e.querySelectorAll('li:not([style*="display: none"])');e.style.display=t.length>0?"":"none"}}),t.textContent=l?`${o} sonuÃ§ bulundu`:""}e.addEventListener("input",()=>{clearTimeout(l),l=setTimeout(o,300)})}function setupThemeToggle(){const e=document.getElementById("theme-toggle"),t=document.body,n=window.matchMedia("(prefers-color-scheme: dark)");function a(n){n?(t.classList.add("koyu"),e.textContent="â˜€ï¸"):(t.classList.remove("koyu"),e.textContent="ðŸŒ™")}e.addEventListener("click",()=>{const e=!t.classList.contains("koyu");a(e),localStorage.setItem("theme",e?"koyu":"aydinlik")});let l=localStorage.getItem("theme");l||(l=n.matches?"koyu":"aydinlik"),a("koyu"===l),n.addEventListener("change",e=>{localStorage.getItem("theme")||a(e.matches)})}function normalizeText(e){if(!e)return e;const t=[["ï¿½nerilenler","Ã–nerilenler"],["ï¿½nerilen","Ã–nerilen"],["Windows ï¿½ndirme","Windows Ä°ndirme"],[" ï¿½ndir"," Ä°ndir"],["ï¿½zel","Ã–zel"],["Linux Daï¿½ï¿½tï¿½mlarï¿½","Linux DaÄŸÄ±tÄ±mlarÄ±"],["daï¿½ï¿½tï¿½mlarï¿½ndan","daÄŸÄ±tÄ±mlarÄ±ndan"],["daï¿½ï¿½tï¿½mlarï¿½","daÄŸÄ±tÄ±mlarÄ±"],["daï¿½ï¿½tï¿½mï¿½","daÄŸÄ±tÄ±mÄ±"],["daï¿½ï¿½tï¿½m","daÄŸÄ±tÄ±m"],["sï¿½rï¿½mï¿½","sÃ¼rÃ¼mÃ¼"],["sï¿½rï¿½m","sÃ¼rÃ¼m"],["gï¿½venlik","gÃ¼venlik"],["Araï¿½larï¿½","AraÃ§larÄ±"],["araï¿½larï¿½","araÃ§larÄ±"],["araï¿½lar","araÃ§lar"],["araï¿½","araÃ§"],["kullanï¿½cï¿½","kullanÄ±cÄ±"],["popï¿½lerlik","popÃ¼lerlik"],["popï¿½ler","popÃ¼ler"],["iï¿½in","iÃ§in"],["iï¿½erik","iÃ§erik"],["iï¿½letim","iÅŸletim"],["ï¿½oklu","Ã§oklu"],["ï¿½nyï¿½kleme","Ã¶nyÃ¼kleme"],["baï¿½lantï¿½lar","baÄŸlantÄ±lar"],["baï¿½lantï¿½","baÄŸlantÄ±"],["dosyasï¿½","dosyasÄ±"],["oluï¿½turma","oluÅŸturma"],["gï¿½ncelleme","gÃ¼ncelleme"],["Optimize edilmiï¿½","Optimize edilmiÅŸ"],["odaklï¿½","odaklÄ±"],["hakkï¿½nda","hakkÄ±nda"],["diï¿½er","diÄŸer"],["saï¿½layan","saÄŸlayan"],["Donanï¿½m","DonanÄ±m"],["donanï¿½m","donanÄ±m"],["tanï¿½mlama","tanÄ±mlama"],["detaylï¿½","detaylÄ±"]];let n=e;for(const[e,a]of t)n=n.replaceAll(e,a);return n}document.addEventListener("DOMContentLoaded",async()=>{setupThemeToggle();const e=document.getElementById("links-container");try{renderCategories(await fetchLinks(),e)}catch(t){e.textContent="BaÄŸlantÄ±lar yÃ¼klenemedi.",console.error(t)}setupSearch(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)},e=>{console.log("ServiceWorker registration failed: ",e)})})});
