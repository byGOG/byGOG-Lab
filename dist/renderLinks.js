const ee={};async function P(){const e=await fetch("dist/links.json");if(!e.ok)throw new Error("links.json y\xFCklenemedi");return e.json()}const R='irm "https://christitus.com/win" | iex';function U(e){if(e&&e.copyText)return String(e.copyText);const a=String((e==null?void 0:e.name)||"").toLocaleLowerCase("tr"),i=String((e==null?void 0:e.url)||"");return a==="winutil"||i.includes("christitus.com/win")?R:""}function H(e){const a=document.createElement("li"),i=document.createElement("a");if(i.href=e.url,i.target="_blank",i.rel="noopener noreferrer",e.recommended){const n=document.createElement("span");n.className="star",n.title="\xD6nerilen",n.setAttribute("aria-label","\xD6nerilen"),n.setAttribute("aria-hidden","true"),n.textContent="\u2B50",i.appendChild(n)}if(e.icon){const n=document.createElement("span");n.className="icon-wrapper";const l=document.createElement("img");l.loading="lazy",l.decoding="async",l.width=28,l.height=28,l.setAttribute("data-src",e.icon),l.src="icon/fallback.svg",l.onerror=()=>{l.src&&!l.src.endsWith("/icon/fallback.svg")&&!l.src.endsWith("icon/fallback.svg")&&(l.src="icon/fallback.svg")},e.alt&&(l.alt=e.alt),l.className="site-icon",n.appendChild(l),i.appendChild(n)}const o=document.createElement("span");if(o.className="link-text",o.textContent=e.name,a.dataset.nameOriginal=e.name||"",i.appendChild(o),e.description){const n=document.createElement("span");if(n.className="custom-tooltip",e.icon){const c=document.createElement("img");c.loading="lazy",c.decoding="async",c.width=28,c.height=28,c.setAttribute("data-src",e.icon),c.onerror=()=>{c.src&&!c.src.endsWith("/icon/fallback.svg")&&!c.src.endsWith("icon/fallback.svg")&&(c.src="icon/fallback.svg")},e.alt&&(c.alt=e.alt),n.appendChild(c)}n.appendChild(document.createTextNode(e.description)),i.appendChild(n);const l=()=>{try{const c=n.querySelector("img[data-src]");c&&(c.src=c.getAttribute("data-src"),c.removeAttribute("data-src"))}catch{}};i.addEventListener("mouseenter",l,{once:!0}),i.addEventListener("focusin",l,{once:!0})}try{const n=[];e.name&&n.push(e.name),Array.isArray(e.tags)&&e.tags.length&&n.push(e.tags.join(" ")),a.dataset.search=n.join(" ").toLocaleLowerCase("tr");try{e.folded&&(a.dataset.folded=String(e.folded))}catch{}e.description&&(a.dataset.descOriginal=e.description)}catch{}a.appendChild(i);const d=U(e);if(d){a.classList.add("has-copy");const n=document.createElement("button");n.type="button",n.className="copy-button";const l="Komutu kopyala",c="Komut kopyaland\u0131",u="Komut kopyalanamad\u0131",t="Komut kopyalan\u0131yor",r=document.createElement("span");r.className="sr-only",r.textContent=l;const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("viewBox","0 0 24 24"),s.setAttribute("aria-hidden","true"),s.setAttribute("focusable","false");const p={copy:'<rect x="9" y="9" width="12" height="12" rx="2" ry="2"></rect><path d="M5 15V5a2 2 0 0 1 2-2h10"></path>',success:'<path d="M20 6 10 16l-4-4"></path>',error:'<path d="M18 6 6 18"></path><path d="M6 6l12 12"></path>',loading:'<circle cx="12" cy="12" r="9" stroke-opacity="0.25"></circle><path d="M21 12a9 9 0 0 0-9-9" stroke-opacity="0.9"></path>'};(b=>{s.innerHTML=p[b]||p.copy})("copy"),n.appendChild(s),n.appendChild(r);const g=`${e.name||""} komutunu kopyala`.trim()||l;n.setAttribute("aria-label",g),n.title="Komutu panoya kopyala",n.dataset.copy=d,n.dataset.labelDefault=l,n.dataset.labelSuccess=c,n.dataset.labelError=u,n.dataset.labelLoading=t,n.dataset.ariaBase=g,i.appendChild(n)}return a}function _(e,a){const i=document.createDocumentFragment();e.categories.forEach(o=>{const d=document.createElement("div");d.className="category-card";const n=document.createElement("h2");n.textContent=o.title,d.appendChild(n);const l=(c,u)=>{const t=document.createElement("ul"),r=(f,y)=>String(f.name||"").localeCompare(String(y.name||""),"tr"),s=c.filter(f=>!!f.recommended).sort(r),p=c.filter(f=>!f.recommended).sort(r),h=[...s,...p];let g=!1,b=!1;const S=h.some(f=>!!f.recommended),m=h.some(f=>!f.recommended);h.forEach(f=>{if(S&&m&&f.recommended&&!g){const y=document.createElement("li");y.className="group-label",y.setAttribute("role","presentation"),y.textContent="\xD6nerilenler",t.appendChild(y),g=!0}if(S&&m&&!f.recommended&&!b){const y=document.createElement("li");y.className="group-label",y.setAttribute("role","presentation"),y.textContent="Di\u011Ferleri",t.appendChild(y),b=!0}t.appendChild(H(f))}),u.appendChild(t)};if(o.subcategories){const c=document.createElement("div");c.className="sub-category-container",o.subcategories.forEach(u=>{const t=document.createElement("div");t.className="sub-category";const r=document.createElement("h3");r.textContent=u.title,t.appendChild(r),l(u.links,t),c.appendChild(t)}),d.appendChild(c)}else o.links&&l(o.links,d);i.appendChild(d)}),a.appendChild(i)}const I={copy:'<rect x="9" y="9" width="12" height="12" rx="2" ry="2"></rect><path d="M5 15V5a2 2 0 0 1 2-2h10"></path>',success:'<path d="M20 6 10 16l-4-4"></path>',error:'<path d="M18 6 6 18"></path><path d="M6 6l12 12"></path>',loading:'<circle cx="12" cy="12" r="9" stroke-opacity="0.25"></circle><path d="M21 12a9 9 0 0 0-9-9" stroke-opacity="0.9"></path>'};function N(e,a){const i=e.querySelector("svg");i&&(i.innerHTML=I[a]||I.copy)}async function z(e){if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const a=document.createElement("textarea");a.value=e,a.setAttribute("readonly",""),a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}}function j(){const e=document.getElementById("links-container");!e||e.dataset.copyDelegation==="on"||(e.dataset.copyDelegation="on",e.addEventListener("click",async a=>{const i=a.target;if(!i||!i.closest)return;const o=i.closest("button.copy-button");if(!o||!e.contains(o)||(a.preventDefault(),a.stopPropagation(),o.disabled))return;const d=o.dataset.labelDefault||"Kopyala",n=o.dataset.labelSuccess||"Kopyaland\u0131",l=o.dataset.labelError||"Kopyalanamad\u0131",c=o.dataset.labelLoading||"Kopyalan\u0131yor",u=o.dataset.ariaBase||d,t=o.querySelector(".sr-only"),r=(s,p,h,g)=>{o.classList.remove("copy-error","copied","copy-loading"),p&&o.classList.add(p),t&&(t.textContent=s),o.setAttribute("aria-label",g||s),N(o,h||"copy"),o.disabled=!1};o.disabled=!0,o.classList.remove("copy-error","copied"),o.classList.add("copy-loading"),N(o,"loading"),t&&(t.textContent=c),o.setAttribute("aria-label",c);try{await z(o.dataset.copy||""),r(n,"copied","success")}catch{r(l,"copy-error","error")}o._resetTimer&&clearTimeout(o._resetTimer),o._resetTimer=setTimeout(()=>{r(d,null,"copy",u)},2e3)}))}const $="tr",F=/[\u0300-\u036f]/g;function M(e){return String(e||"").toLocaleLowerCase($)}function T(e){return M(e).normalize("NFD").replace(F,"").replace(/Ä±/g,"i")}function D(e){return T(e).split(/\s+/).filter(Boolean)}function Q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"$&")}function V(e){const a=M(e).trim().split(/\s+/).filter(Boolean);return a.length?new RegExp(`(${a.map(Q).join("|")})`,"gi"):null}function K(e){const a=e.trim().length>0;return{raw:e,hasQuery:a,regex:a?V(e):null}}function O(e,a){const i=e.querySelector(".link-text");if(i){const d=e.dataset.nameOriginal||i.textContent||"";i.textContent=d}const o=e.querySelector(".custom-tooltip");if(o){const d=e.dataset.descOriginal||"";if(d){const n=o.querySelector("img");try{o.innerHTML="",n&&(o.appendChild(n),o.appendChild(document.createTextNode(" "))),o.appendChild(document.createTextNode(d))}catch{o.textContent=d}}}}function te(){}function W(e,a,i){const o=new Set(a.map(t=>t.index)),d=new Map,n=new Map;a.forEach(t=>{if(!t.isLink)return;const r=t.catEl,s=t.subEl;d.set(r,(d.get(r)||0)+1),s&&n.set(s,(n.get(s)||0)+1)});function l(t,r){if(!t)return;const s=r.get(t)||0;t.classList.toggle("is-hidden",s<=0)}function c(t){const r=e[t];if(r){if(!r.classList.contains("is-hidden")){r.classList.add("is-hidden"),O(r,null);const s=a[t];if(s.isLink){const p=s.catEl,h=s.subEl;p&&(d.set(p,(d.get(p)||0)-1),l(p,d)),h&&(n.set(h,(n.get(h)||0)-1),l(h,n))}}o.delete(t)}}function u(t,r){const s=e[t];if(!s)return!1;if(s.classList.contains("is-hidden")){s.classList.remove("is-hidden");const h=a[t];if(h.isLink){const g=h.catEl,b=h.subEl;g&&(d.set(g,(d.get(g)||0)+1),l(g,d)),b&&(n.set(b,(n.get(b)||0)+1),l(b,n))}o.add(t)}return O(s,r),a[t].isLink}return function(r,s){const p=new Set(s),h=[];o.forEach(b=>{p.has(b)||h.push(b)}),h.forEach(c);let g=0;p.forEach(b=>{u(b,r.regex)&&g++}),r.hasQuery?i.textContent=g>0?`${g} sonu\xE7 bulundu`:"Sonu\xE7 bulunamad\u0131":i.textContent=""}}function G(e,a,i){if(typeof window=="undefined"||typeof window.Worker=="undefined")return null;let o;try{o=new Worker(new URL("./searchWorker.js",ee.url),{type:"module"})}catch(u){return console.warn("Search worker could not start:",u),null}const d=W(e,a,i),n=new Map;let l=0,c=0;return o.postMessage({type:"seed",payload:a.map(u=>({index:u.index,folded:u.folded}))}),o.addEventListener("message",u=>{const{type:t,payload:r}=u.data||{};if(t!=="result"||!r)return;const{id:s,matches:p}=r,h=n.get(s);n.delete(s),!(!h||s<c)&&(c=s,d(h,p||[]))}),{run(u){const t=K(u);if(!D(u).length){const p=a.map(h=>h.index);d(t,p);return}const s=++l;n.set(s,t),o.postMessage({type:"query",payload:{id:s,value:u}})}}}function Y(e,a,i){const o=W(e,a,i);return{run(d){const n=K(d),l=D(d),c=l.length?a.filter(u=>l.every(t=>u.folded.includes(t))).map(u=>u.index):a.map(u=>u.index);o(n,c)}}}function X(){const e=document.getElementById("search-input"),a=document.getElementById("search-status"),i=Array.from(document.querySelectorAll(".category-card li"));if(!e||!a||!i.length)return;i.forEach((t,r)=>{t.dataset.searchIndex=String(r)});const o=i.map((t,r)=>{const s=t.dataset.search||t.textContent||"",p=t.closest(".category-card"),h=t.closest(".sub-category");return{index:r,folded:t.dataset.folded?String(t.dataset.folded):T(s),isLink:!!t.querySelector(".link-text"),catEl:p,subEl:h}});let d=null;const n=()=>d||(d=G(i,o,a)||Y(i,o,a),d);let l;function c(t){const r=String(t||"").trim().length;return r>=8?80:r>=4?120:250}function u(t){clearTimeout(l),n().run(t)}e.addEventListener("input",()=>{clearTimeout(l);const t=c(e.value);l=setTimeout(()=>{n().run(e.value);try{const r=new URL(window.location.href),s=(e.value||"").trim();s?r.searchParams.set("q",s):r.searchParams.delete("q"),history.replaceState(null,"",r.toString())}catch{}},t)}),document.addEventListener("keydown",t=>{const r=t.target,s=r&&r.tagName?r.tagName.toUpperCase():"",p=!!(r&&(r.isContentEditable||["INPUT","TEXTAREA","SELECT"].includes(s)));if((t.ctrlKey||t.metaKey)&&!t.altKey&&!t.shiftKey&&(t.key==="k"||t.key==="K")){t.preventDefault(),e.focus(),e.select();return}if(t.ctrlKey&&!t.altKey&&!t.shiftKey&&(t.key==="e"||t.key==="E")){t.preventDefault(),e.focus(),e.select();return}if(t.key==="/"&&!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){if(p)return;t.preventDefault(),e.focus(),e.select()}}),e.addEventListener("keydown",t=>{if(t.key==="Escape"){if(e.value){e.value="",u("");try{const r=new URL(window.location.href);r.searchParams.delete("q"),history.replaceState(null,"",r.toString())}catch{}}t.stopPropagation()}else if(t.key==="Enter"){if(!(e.value||"").trim())return;const s=document.querySelector('.category-card li:not([style*="display: none"]) a[href]');s&&(s.click(),t.preventDefault(),t.stopPropagation())}});try{const t=new URL(window.location.href).searchParams.get("q");t?(e.value=t,u(t)):e.value&&u(e.value)}catch{e.value&&u(e.value)}try{const t="IntersectionObserver"in window?new IntersectionObserver(r=>{r.forEach(s=>{if(s.isIntersecting){const p=s.target,h=p.getAttribute("data-src");h&&(p.src=h,p.removeAttribute("data-src")),t.unobserve(p)}})},{rootMargin:"200px 0px"}):null;t&&document.querySelectorAll("img.site-icon[data-src]").forEach(r=>t.observe(r))}catch{}}function J(){try{const n=document.querySelector(".theme-toggle-container");n&&n.remove()}catch{}try{document.body.classList.add("koyu")}catch{}return;function o(n){const l=!!n;l?(a.classList.add("koyu"),e.textContent="\u2600\uFE0F",e.setAttribute("aria-label","Ayd\u0131nl\u0131k temaya ge\xE7")):(a.classList.remove("koyu"),e.textContent="\u{1F319}",e.setAttribute("aria-label","Koyu temaya ge\xE7")),e.setAttribute("aria-pressed",String(l))}}document.addEventListener("DOMContentLoaded",async()=>{J();const e=document.getElementById("links-container");try{const a=await P();_(a,e)}catch(a){e.textContent="Ba\u011Flant\u0131lar y\xFCklenemedi.",console.error(a)}j(),X(),Z(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js").then(a=>console.log("ServiceWorker registration successful with scope:",a.scope),a=>console.log("ServiceWorker registration failed:",a));try{navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})}catch{}})});function Z(){const e={deferred:null,installed:!1},a={delayMs:4500,minScroll:200,snoozeDays:7},i=()=>window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.navigator&&window.navigator.standalone,o=()=>{try{const m=new URL(window.location.href).pathname;return/(?:^|\/)index\.html$/.test(m)||/\/$/.test(m)}catch{return!0}},d=()=>{try{const m=Number(localStorage.getItem("pwaDismissUntil")||"0");return Date.now()<m}catch{return!1}},n=()=>{try{localStorage.setItem("pwaDismissUntil",String(Date.now()+a.snoozeDays*864e5))}catch{}},l=()=>{const m=document.createElement("div");m.className="install-card",m.setAttribute("role","dialog"),m.setAttribute("aria-live","polite"),m.setAttribute("aria-label","Uygulamay\u0131 y\xFCkle");const f=document.createElement("img");f.className="install-icon",f.src="icon/bygog-lab-icon.svg",f.alt="",f.width=40,f.height=40;const y=document.createElement("div");y.className="install-text";const C=document.createElement("div");C.className="install-title",C.textContent="byGOG'u y\xFCkle";const k=document.createElement("div");k.className="install-sub",k.textContent="H\u0131zl\u0131 eri\u015Fim i\xE7in ana ekrana ekle",y.appendChild(C),y.appendChild(k);const w=document.createElement("div");w.className="install-hint",w.textContent="";const E=document.createElement("button");E.type="button",E.className="install-logo-btn",E.setAttribute("aria-label","Ana ekrana ekle");const L=document.createElement("img");L.src="icon/bygog-lab-icon.svg",L.alt="",L.width=56,L.height=56,L.className="install-logo-img",E.appendChild(L);const v=document.createElement("button");v.type="button",v.className="install-close",v.setAttribute("aria-label","Kapat"),v.innerHTML="\xD7",m.appendChild(f),m.appendChild(y),m.appendChild(w),m.appendChild(E),m.appendChild(v),document.body.appendChild(m),E.addEventListener("click",async()=>{if(e.deferred)try{await e.deferred.prompt();const A=await e.deferred.userChoice;e.deferred=null,A&&A.outcome==="accepted"&&p()}catch{}else alert('Uygulamay\u0131 ana ekrana eklemek i\xE7in taray\u0131c\u0131n\u0131z\u0131n men\xFCs\xFCnden "Ana Ekrana Ekle" se\xE7ene\u011Fini kullan\u0131n.')}),v.addEventListener("click",()=>{n(),p()});const q=()=>/iphone|ipad|ipod/i.test(navigator.userAgent),B=()=>/android/i.test(navigator.userAgent),x=()=>{const A=!!e.deferred;A?E.classList.add("ready"):E.classList.remove("ready"),q()?(w.style.display="",w.textContent="Safari: Payla\u015F men\xFCs\xFC \u2192 Ana Ekrana Ekle"):A?w.style.display="none":(w.style.display="",w.textContent=B()?"Chrome men\xFCs\xFC \u2192 Ana ekrana ekle":"Taray\u0131c\u0131 men\xFCs\xFC \u2192 Ana ekrana ekle")};return m._updateInstallState=x,x(),m};let c=null,u=null;const t=()=>{const m=document.createElement("button");m.type="button",m.className="install-badge",m.setAttribute("aria-label","Ana ekrana ekle");const f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("aria-hidden","true");const y=document.createElementNS("http://www.w3.org/2000/svg","g"),C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d","M12 5v14"),C.setAttribute("stroke","currentColor"),C.setAttribute("stroke-width","2.2"),C.setAttribute("stroke-linecap","round"),C.setAttribute("fill","none");const k=document.createElementNS("http://www.w3.org/2000/svg","path");k.setAttribute("d","M5 12h14"),k.setAttribute("stroke","currentColor"),k.setAttribute("stroke-width","2.2"),k.setAttribute("stroke-linecap","round"),k.setAttribute("fill","none"),y.appendChild(C),y.appendChild(k),f.appendChild(y),m.appendChild(f),m.addEventListener("click",async()=>{if(e.deferred)try{await e.deferred.prompt();const E=await e.deferred.userChoice;e.deferred=null,E&&E.outcome==="accepted"&&p()}catch{}else alert('Uygulamay\u0131 ana ekrana eklemek i\xE7in taray\u0131c\u0131n\u0131z\u0131n men\xFCs\xFCnden "Ana Ekrana Ekle" se\xE7ene\u011Fini kullan\u0131n.')});const w=document.querySelector(".author-fab");return w?w.appendChild(m):document.body.appendChild(m),m},r=()=>{c||(c=l()),c.style.display=""},s=()=>{u||(u=t()),u.style.display=""},p=()=>{c&&(c.style.display="none"),u&&(u.style.display="none")};if(i()||!o()||d()){p();return}window.addEventListener("beforeinstallprompt",m=>{m.preventDefault(),e.deferred=m,s();try{u&&u.classList.add("ready")}catch{}try{c&&c._updateInstallState&&c._updateInstallState()}catch{}}),window.addEventListener("appinstalled",()=>{e.installed=!0,p()});let h=!1,g=!1;const b=()=>{!e.deferred&&!i()&&!d()&&o()&&h&&g&&s()};setTimeout(()=>{h=!0,b()},a.delayMs);const S=()=>{window.scrollY>=a.minScroll&&(g=!0,b(),window.removeEventListener("scroll",S))};window.addEventListener("scroll",S,{passive:!0})}export{P as fetchLinks};
