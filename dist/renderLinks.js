const ee={};async function P(){const e=await fetch("dist/links.json");if(!e.ok)throw new Error("links.json y\xFCklenemedi");return e.json()}const z='irm "https://christitus.com/win" | iex';function R(e){if(e&&e.copyText)return String(e.copyText);const o=String((e==null?void 0:e.name)||"").toLocaleLowerCase("tr"),u=String((e==null?void 0:e.url)||"");return o==="winutil"||u.includes("christitus.com/win")?z:""}function U(e){const o=document.createElement("li"),u=document.createElement("a");if(u.href=e.url,u.target="_blank",u.rel="noopener noreferrer",e.recommended){const n=document.createElement("span");n.className="star",n.title="\xD6nerilen",n.setAttribute("aria-label","\xD6nerilen"),n.setAttribute("aria-hidden","true"),n.textContent="\u2B50";try{n.removeAttribute("title")}catch{}try{n.removeAttribute("aria-label")}catch{}u.appendChild(n)}if(e.icon){const n=document.createElement("span");n.className="icon-wrapper";const c=document.createElement("img");c.loading="lazy",c.decoding="async",c.width=28,c.height=28,c.setAttribute("data-src",e.icon),c.src="icon/fallback.svg",c.onerror=()=>{c.src&&!c.src.endsWith("/icon/fallback.svg")&&!c.src.endsWith("icon/fallback.svg")&&(c.src="icon/fallback.svg")},e.alt&&(c.alt=e.alt),c.className="site-icon",n.appendChild(c),u.appendChild(n)}const a=document.createElement("span");if(a.className="link-text",a.textContent=e.name,o.dataset.nameOriginal=e.name||"",u.appendChild(a),e.description){const n=document.createElement("span");if(n.className="custom-tooltip",e.icon){const s=document.createElement("img");s.loading="lazy",s.decoding="async",s.width=28,s.height=28,s.setAttribute("data-src",e.icon),s.onerror=()=>{s.src&&!s.src.endsWith("/icon/fallback.svg")&&!s.src.endsWith("icon/fallback.svg")&&(s.src="icon/fallback.svg")},e.alt&&(s.alt=e.alt),n.appendChild(s)}n.appendChild(document.createTextNode(e.description)),u.appendChild(n);const c=()=>{try{const s=n.querySelector("img[data-src]");s&&(s.src=s.getAttribute("data-src"),s.removeAttribute("data-src"))}catch{}};try{a.addEventListener("mouseenter",c,{once:!0})}catch{}try{a.addEventListener("focusin",c,{once:!0})}catch{}}try{const n=[];e.name&&n.push(e.name),Array.isArray(e.tags)&&e.tags.length&&n.push(e.tags.join(" ")),o.dataset.search=n.join(" ").toLocaleLowerCase("tr");try{e.folded&&(o.dataset.folded=String(e.folded))}catch{}e.description&&(o.dataset.descOriginal=e.description)}catch{}o.appendChild(u);const l=R(e);if(l){o.classList.add("has-copy");const n=document.createElement("button");n.type="button",n.className="copy-button";const c="Komutu kopyala",s="Komut kopyaland\u0131",d="Komut kopyalanamad\u0131",t="Komut kopyalan\u0131yor",r=document.createElement("span");r.className="sr-only",r.textContent=c;const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("viewBox","0 0 24 24"),i.setAttribute("aria-hidden","true"),i.setAttribute("focusable","false");const p={copy:'<rect x="9" y="9" width="12" height="12" rx="2" ry="2"></rect><path d="M5 15V5a2 2 0 0 1 2-2h10"></path>',success:'<path d="M20 6 10 16l-4-4"></path>',error:'<path d="M18 6 6 18"></path><path d="M6 6l12 12"></path>',loading:'<circle cx="12" cy="12" r="9" stroke-opacity="0.25"></circle><path d="M21 12a9 9 0 0 0-9-9" stroke-opacity="0.9"></path>'};(b=>{i.innerHTML=p[b]||p.copy})("copy"),n.appendChild(i),n.appendChild(r);const g=`${e.name||""} komutunu kopyala`.trim()||c;n.setAttribute("aria-label",g),n.title="Komutu panoya kopyala",n.dataset.copy=l,n.dataset.labelDefault=c,n.dataset.labelSuccess=s,n.dataset.labelError=d,n.dataset.labelLoading=t,n.dataset.ariaBase=g,u.appendChild(n)}return o}function H(e,o){const u=document.createDocumentFragment();e.categories.forEach(a=>{const l=document.createElement("div");l.className="category-card";try{const s=String(a.title).trim(),t=(typeof x=="function"?x(s):s.toLocaleLowerCase("tr")).replace(/\u0131/g,"i");new Set(["sistem/ofis","sistem araclari & bakim","guvenlik & gizlilik","yazilim & paket yoneticileri"]).has(t)&&l.classList.add("cols-3")}catch{}const n=document.createElement("h2");n.textContent=a.title,l.appendChild(n);const c=(s,d)=>{const t=document.createElement("ul"),r=(y,f)=>String(y.name||"").localeCompare(String(f.name||""),"tr"),i=s.filter(y=>!!y.recommended).sort(r),p=s.filter(y=>!y.recommended).sort(r),h=[...i,...p];let g=!1,b=!1;const S=h.some(y=>!!y.recommended),m=h.some(y=>!y.recommended);h.forEach(y=>{if(S&&m&&y.recommended&&!g){const f=document.createElement("li");f.className="group-label",f.setAttribute("role","presentation"),f.textContent="\xD6nerilenler",t.appendChild(f),g=!0}if(S&&m&&!y.recommended&&!b){const f=document.createElement("li");f.className="group-label",f.setAttribute("role","presentation"),f.textContent="Di\u011Ferleri",t.appendChild(f),b=!0}t.appendChild(U(y))}),d.appendChild(t)};if(a.subcategories){const s=document.createElement("div");s.className="sub-category-container",a.subcategories.forEach(d=>{const t=document.createElement("div");t.className="sub-category";const r=document.createElement("h3");r.textContent=d.title,t.appendChild(r),c(d.links,t),s.appendChild(t)}),l.appendChild(s)}else a.links&&c(a.links,l);u.appendChild(l)}),o.appendChild(u)}const I={copy:'<rect x="9" y="9" width="12" height="12" rx="2" ry="2"></rect><path d="M5 15V5a2 2 0 0 1 2-2h10"></path>',success:'<path d="M20 6 10 16l-4-4"></path>',error:'<path d="M18 6 6 18"></path><path d="M6 6l12 12"></path>',loading:'<circle cx="12" cy="12" r="9" stroke-opacity="0.25"></circle><path d="M21 12a9 9 0 0 0-9-9" stroke-opacity="0.9"></path>'};function M(e,o){const u=e.querySelector("svg");u&&(u.innerHTML=I[o]||I.copy)}async function _(e){if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)}}function j(){const e=document.getElementById("links-container");!e||e.dataset.copyDelegation==="on"||(e.dataset.copyDelegation="on",e.addEventListener("click",async o=>{const u=o.target;if(!u||!u.closest)return;const a=u.closest("button.copy-button");if(!a||!e.contains(a)||(o.preventDefault(),o.stopPropagation(),a.disabled))return;const l=a.dataset.labelDefault||"Kopyala",n=a.dataset.labelSuccess||"Kopyaland\u0131",c=a.dataset.labelError||"Kopyalanamad\u0131",s=a.dataset.labelLoading||"Kopyalan\u0131yor",d=a.dataset.ariaBase||l,t=a.querySelector(".sr-only"),r=(i,p,h,g)=>{a.classList.remove("copy-error","copied","copy-loading"),p&&a.classList.add(p),t&&(t.textContent=i),a.setAttribute("aria-label",g||i),M(a,h||"copy"),a.disabled=!1};a.disabled=!0,a.classList.remove("copy-error","copied"),a.classList.add("copy-loading"),M(a,"loading"),t&&(t.textContent=s),a.setAttribute("aria-label",s);try{await _(a.dataset.copy||""),r(n,"copied","success")}catch{r(c,"copy-error","error")}a._resetTimer&&clearTimeout(a._resetTimer),a._resetTimer=setTimeout(()=>{r(l,null,"copy",d)},2e3)}))}const $="tr",F=/[\u0300-\u036f]/g;function T(e){return String(e||"").toLocaleLowerCase($)}function x(e){return T(e).normalize("NFD").replace(F,"").replace(/Ä±/g,"i")}function D(e){return x(e).split(/\s+/).filter(Boolean)}function Q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"$&")}function V(e){const o=T(e).trim().split(/\s+/).filter(Boolean);return o.length?new RegExp(`(${o.map(Q).join("|")})`,"gi"):null}function K(e){const o=e.trim().length>0;return{raw:e,hasQuery:o,regex:o?V(e):null}}function W(e,o){const u=e.querySelector(".link-text");if(u){const l=e.dataset.nameOriginal||u.textContent||"";u.textContent=l}const a=e.querySelector(".custom-tooltip");if(a){const l=e.dataset.descOriginal||"";if(l){const n=a.querySelector("img");try{a.innerHTML="",n&&(a.appendChild(n),a.appendChild(document.createTextNode(" "))),a.appendChild(document.createTextNode(l))}catch{a.textContent=l}}}}function te(){}function O(e,o,u){const a=new Set(o.map(t=>t.index)),l=new Map,n=new Map;o.forEach(t=>{if(!t.isLink)return;const r=t.catEl,i=t.subEl;l.set(r,(l.get(r)||0)+1),i&&n.set(i,(n.get(i)||0)+1)});function c(t,r){if(!t)return;const i=r.get(t)||0;t.classList.toggle("is-hidden",i<=0)}function s(t){const r=e[t];if(r){if(!r.classList.contains("is-hidden")){r.classList.add("is-hidden"),W(r,null);const i=o[t];if(i.isLink){const p=i.catEl,h=i.subEl;p&&(l.set(p,(l.get(p)||0)-1),c(p,l)),h&&(n.set(h,(n.get(h)||0)-1),c(h,n))}}a.delete(t)}}function d(t,r){const i=e[t];if(!i)return!1;if(i.classList.contains("is-hidden")){i.classList.remove("is-hidden");const h=o[t];if(h.isLink){const g=h.catEl,b=h.subEl;g&&(l.set(g,(l.get(g)||0)+1),c(g,l)),b&&(n.set(b,(n.get(b)||0)+1),c(b,n))}a.add(t)}return W(i,r),o[t].isLink}return function(r,i){const p=new Set(i),h=[];a.forEach(b=>{p.has(b)||h.push(b)}),h.forEach(s);let g=0;p.forEach(b=>{d(b,r.regex)&&g++}),r.hasQuery?u.textContent=g>0?`${g} sonu\xE7 bulundu`:"Sonu\xE7 bulunamad\u0131":u.textContent=""}}function Y(e,o,u){if(typeof window=="undefined"||typeof window.Worker=="undefined")return null;let a;try{a=new Worker(new URL("./searchWorker.js",ee.url),{type:"module"})}catch(d){return console.warn("Search worker could not start:",d),null}const l=O(e,o,u),n=new Map;let c=0,s=0;return a.postMessage({type:"seed",payload:o.map(d=>({index:d.index,folded:d.folded}))}),a.addEventListener("message",d=>{const{type:t,payload:r}=d.data||{};if(t!=="result"||!r)return;const{id:i,matches:p}=r,h=n.get(i);n.delete(i),!(!h||i<s)&&(s=i,l(h,p||[]))}),{run(d){const t=K(d);if(!D(d).length){const p=o.map(h=>h.index);l(t,p);return}const i=++c;n.set(i,t),a.postMessage({type:"query",payload:{id:i,value:d}})}}}function G(e,o,u){const a=O(e,o,u);return{run(l){const n=K(l),c=D(l),s=c.length?o.filter(d=>c.every(t=>d.folded.includes(t))).map(d=>d.index):o.map(d=>d.index);a(n,s)}}}function X(){const e=document.getElementById("search-input"),o=document.getElementById("search-status"),u=Array.from(document.querySelectorAll(".category-card li"));if(!e||!o||!u.length)return;u.forEach((t,r)=>{t.dataset.searchIndex=String(r)});const a=u.map((t,r)=>{const i=t.dataset.search||t.textContent||"",p=t.closest(".category-card"),h=t.closest(".sub-category");return{index:r,folded:t.dataset.folded?String(t.dataset.folded):x(i),isLink:!!t.querySelector(".link-text"),catEl:p,subEl:h}});let l=null;const n=()=>l||(l=Y(u,a,o)||G(u,a,o),l);let c;function s(t){const r=String(t||"").trim().length;return r>=8?80:r>=4?120:250}function d(t){clearTimeout(c),n().run(t)}e.addEventListener("input",()=>{clearTimeout(c);const t=s(e.value);c=setTimeout(()=>{n().run(e.value);try{const r=new URL(window.location.href),i=(e.value||"").trim();i?r.searchParams.set("q",i):r.searchParams.delete("q"),history.replaceState(null,"",r.toString())}catch{}},t)}),document.addEventListener("keydown",t=>{const r=t.target,i=r&&r.tagName?r.tagName.toUpperCase():"",p=!!(r&&(r.isContentEditable||["INPUT","TEXTAREA","SELECT"].includes(i)));if((t.ctrlKey||t.metaKey)&&!t.altKey&&!t.shiftKey&&(t.key==="k"||t.key==="K")){t.preventDefault(),e.focus(),e.select();return}if(t.ctrlKey&&!t.altKey&&!t.shiftKey&&(t.key==="e"||t.key==="E")){t.preventDefault(),e.focus(),e.select();return}if(t.key==="/"&&!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){if(p)return;t.preventDefault(),e.focus(),e.select()}}),e.addEventListener("keydown",t=>{if(t.key==="Escape"){if(e.value){e.value="",d("");try{const r=new URL(window.location.href);r.searchParams.delete("q"),history.replaceState(null,"",r.toString())}catch{}}t.stopPropagation()}else if(t.key==="Enter"){if(!(e.value||"").trim())return;const i=document.querySelector('.category-card li:not([style*="display: none"]) a[href]');i&&(i.click(),t.preventDefault(),t.stopPropagation())}});try{const t=new URL(window.location.href).searchParams.get("q");t?(e.value=t,d(t)):e.value&&d(e.value)}catch{e.value&&d(e.value)}try{const t="IntersectionObserver"in window?new IntersectionObserver(r=>{r.forEach(i=>{if(i.isIntersecting){const p=i.target,h=p.getAttribute("data-src");h&&(p.src=h,p.removeAttribute("data-src")),t.unobserve(p)}})},{rootMargin:"200px 0px"}):null;t&&document.querySelectorAll("img.site-icon[data-src]").forEach(r=>t.observe(r))}catch{}}function J(){try{const n=document.querySelector(".theme-toggle-container");n&&n.remove()}catch{}try{document.body.classList.add("koyu")}catch{}return;function a(n){const c=!!n;c?(o.classList.add("koyu"),e.textContent="\u2600\uFE0F",e.setAttribute("aria-label","Ayd\u0131nl\u0131k temaya ge\xE7")):(o.classList.remove("koyu"),e.textContent="\u{1F319}",e.setAttribute("aria-label","Koyu temaya ge\xE7")),e.setAttribute("aria-pressed",String(c))}}document.addEventListener("DOMContentLoaded",async()=>{J();const e=document.getElementById("links-container");try{const o=await P();H(o,e)}catch(o){e.textContent="Ba\u011Flant\u0131lar y\xFCklenemedi.",console.error(o)}j(),X(),Z(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{let o=!!navigator.serviceWorker.controller,u=!1,a=null;const l=()=>{if(!u){u=!0;try{let n=document.getElementById("sw-update-banner");if(n)n.style.display="";else{n=document.createElement("div"),n.id="sw-update-banner",n.className="update-banner",n.setAttribute("role","status"),n.setAttribute("aria-live","polite");const c=document.createElement("span");c.className="update-banner-text",c.textContent="Yeni s\xFCr\xFCm haz\u0131r";const s=document.createElement("button");s.type="button",s.className="update-banner-action",s.textContent="Yenile",s.setAttribute("aria-label","Sayfay\u0131 yenile"),s.addEventListener("click",()=>{try{a&&a.waiting&&a.waiting.postMessage({type:"SKIP_WAITING"})}catch{}window.location.reload()});const d=document.createElement("button");d.type="button",d.className="update-banner-close",d.setAttribute("aria-label","Kapat"),d.innerHTML="\xD7",d.addEventListener("click",()=>{try{n.remove()}catch{}}),n.appendChild(c),n.appendChild(s),n.appendChild(d),document.body.appendChild(n)}}catch{}}};navigator.serviceWorker.register("sw.js").then(n=>{a=n,console.log("ServiceWorker registration successful with scope:",n.scope);try{n.addEventListener("updatefound",()=>{const c=n.installing;c&&c.addEventListener("statechange",()=>{c.state==="installed"&&navigator.serviceWorker.controller&&o&&l()})}),n.waiting&&navigator.serviceWorker.controller&&o&&l()}catch{}},n=>console.log("ServiceWorker registration failed:",n));try{navigator.serviceWorker.addEventListener("controllerchange",()=>{if(!o){o=!0;return}l()})}catch{}})});function Z(){const e={deferred:null,installed:!1},o={delayMs:4500,minScroll:200,snoozeDays:7},u=()=>window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.navigator&&window.navigator.standalone,a=()=>{try{const m=new URL(window.location.href).pathname;return/(?:^|\/)index\.html$/.test(m)||/\/$/.test(m)}catch{return!0}},l=()=>{try{const m=Number(localStorage.getItem("pwaDismissUntil")||"0");return Date.now()<m}catch{return!1}},n=()=>{try{localStorage.setItem("pwaDismissUntil",String(Date.now()+o.snoozeDays*864e5))}catch{}},c=()=>{const m=document.createElement("div");m.className="install-card",m.setAttribute("role","dialog"),m.setAttribute("aria-live","polite"),m.setAttribute("aria-label","Uygulamay\u0131 y\xFCkle");const y=document.createElement("img");y.className="install-icon",y.src="icon/bygog-lab-icon.svg",y.alt="",y.width=40,y.height=40;const f=document.createElement("div");f.className="install-text";const C=document.createElement("div");C.className="install-title",C.textContent="byGOG'u y\xFCkle";const v=document.createElement("div");v.className="install-sub",v.textContent="H\u0131zl\u0131 eri\u015Fim i\xE7in ana ekrana ekle",f.appendChild(C),f.appendChild(v);const w=document.createElement("div");w.className="install-hint",w.textContent="";const E=document.createElement("button");E.type="button",E.className="install-logo-btn",E.setAttribute("aria-label","Ana ekrana ekle");const k=document.createElement("img");k.src="icon/bygog-lab-icon.svg",k.alt="",k.width=56,k.height=56,k.className="install-logo-img",E.appendChild(k);const L=document.createElement("button");L.type="button",L.className="install-close",L.setAttribute("aria-label","Kapat"),L.innerHTML="\xD7",m.appendChild(y),m.appendChild(f),m.appendChild(w),m.appendChild(E),m.appendChild(L),document.body.appendChild(m),E.addEventListener("click",async()=>{if(e.deferred)try{await e.deferred.prompt();const A=await e.deferred.userChoice;e.deferred=null,A&&A.outcome==="accepted"&&p()}catch{}else alert('Uygulamay\u0131 ana ekrana eklemek i\xE7in taray\u0131c\u0131n\u0131z\u0131n men\xFCs\xFCnden "Ana Ekrana Ekle" se\xE7ene\u011Fini kullan\u0131n.')}),L.addEventListener("click",()=>{n(),p()});const B=()=>/iphone|ipad|ipod/i.test(navigator.userAgent),q=()=>/android/i.test(navigator.userAgent),N=()=>{const A=!!e.deferred;A?E.classList.add("ready"):E.classList.remove("ready"),B()?(w.style.display="",w.textContent="Safari: Payla\u015F men\xFCs\xFC \u2192 Ana Ekrana Ekle"):A?w.style.display="none":(w.style.display="",w.textContent=q()?"Chrome men\xFCs\xFC \u2192 Ana ekrana ekle":"Taray\u0131c\u0131 men\xFCs\xFC \u2192 Ana ekrana ekle")};return m._updateInstallState=N,N(),m};let s=null,d=null;const t=()=>{const m=document.createElement("button");m.type="button",m.className="install-badge",m.setAttribute("aria-label","Ana ekrana ekle");const y=document.createElementNS("http://www.w3.org/2000/svg","svg");y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("aria-hidden","true");const f=document.createElementNS("http://www.w3.org/2000/svg","g"),C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d","M12 5v14"),C.setAttribute("stroke","currentColor"),C.setAttribute("stroke-width","2.2"),C.setAttribute("stroke-linecap","round"),C.setAttribute("fill","none");const v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d","M5 12h14"),v.setAttribute("stroke","currentColor"),v.setAttribute("stroke-width","2.2"),v.setAttribute("stroke-linecap","round"),v.setAttribute("fill","none"),f.appendChild(C),f.appendChild(v),y.appendChild(f),m.appendChild(y),m.addEventListener("click",async()=>{if(e.deferred)try{await e.deferred.prompt();const E=await e.deferred.userChoice;e.deferred=null,E&&E.outcome==="accepted"&&p()}catch{}else alert('Uygulamay\u0131 ana ekrana eklemek i\xE7in taray\u0131c\u0131n\u0131z\u0131n men\xFCs\xFCnden "Ana Ekrana Ekle" se\xE7ene\u011Fini kullan\u0131n.')});const w=document.querySelector(".author-fab");return w?w.appendChild(m):document.body.appendChild(m),m},r=()=>{s||(s=c()),s.style.display=""},i=()=>{d||(d=t()),d.style.display=""},p=()=>{s&&(s.style.display="none"),d&&(d.style.display="none")};if(u()||!a()||l()){p();return}window.addEventListener("beforeinstallprompt",m=>{m.preventDefault(),e.deferred=m,i();try{d&&d.classList.add("ready")}catch{}try{s&&s._updateInstallState&&s._updateInstallState()}catch{}}),window.addEventListener("appinstalled",()=>{e.installed=!0,p()});let h=!1,g=!1;const b=()=>{!e.deferred&&!u()&&!l()&&a()&&h&&g&&i()};setTimeout(()=>{h=!0,b()},o.delayMs);const S=()=>{window.scrollY>=o.minScroll&&(g=!0,b(),window.removeEventListener("scroll",S))};window.addEventListener("scroll",S,{passive:!0})}export{P as fetchLinks};
