/* Author FAB - Always visible label */
.author-fab {
  position: fixed;
  right: 24px;
  bottom: 24px;
  z-index: 9999;
  animation: none !important; /* stop floating to avoid blur */
  /* neutralize older styles */
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
  padding: 0 !important;
}

.author-fab-link {
  display: flex;
  align-items: center;
  height: 56px;
  width: auto; /* always expanded */
  min-width: 56px;
  border-radius: 28px;
  background: var(--card-bg);
  border: 1.5px solid var(--card-border);
  box-shadow: 0 10px 30px rgba(0,0,0,0.12), 0 4px 14px rgba(0,0,0,0.08);
  padding: 0 14px 0 10px;
  overflow: hidden;
  transition: none; /* lock size/visuals */
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);
}

/* Keep appearance fixed; override global a:hover styles */
.author-fab-link,
.author-fab-link:hover,
.author-fab-link:focus,
.author-fab-link:active {
  background: var(--card-bg) !important;
  border-color: var(--card-border) !important;
  color: var(--text) !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12), 0 4px 14px rgba(0,0,0,0.08) !important;
  transform: none !important;
  width: auto !important;
  transition: none !important;
}

.author-fab-icon {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--img-bg);
  border: 2px solid rgba(0,0,0,0.08); /* crisper ring on light */
  box-shadow: 0 1px 3px rgba(0,0,0,0.15);
  flex-shrink: 0;
  display: block;            /* avoid inline anti-aliasing */
  object-fit: cover;         /* crop to avoid squish */
  object-position: center;
  image-rendering: -webkit-optimize-contrast; /* better downscale on WebKit */
  image-rendering: crisp-edges;               /* reduce smoothing on small sizes */
  backface-visibility: hidden; /* prevent subpixel blurring */
  transform: translateZ(0);     /* promote to its own layer */
  will-change: transform;       /* hint to browser */
}

.koyu .author-fab-icon {
  border-color: rgba(255,255,255,0.24);   /* subtle light ring on dark */
  box-shadow: 0 1px 3px rgba(0,0,0,0.6);
}

.author-fab-label {
  margin-left: 10px;
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
  white-space: nowrap;
  opacity: 1;            /* always visible */
  transform: none;        /* no slide-in */
  transition: none;       /* lock visuals */
}

@media (prefers-reduced-motion: reduce) {
  .author-fab { animation: none; }
}

/* Install badge overlay on FAB */
.author-fab { position: fixed; }
.author-fab .install-badge{position:absolute;right:-6px;top:-6px;width:22px;height:22px;border-radius:50%;border:2px solid var(--install-badge-ring) !important;background:var(--install-badge-bg) !important;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px rgba(0,0,0,.3);z-index:2;cursor:pointer;-webkit-tap-highlight-color:transparent}
.author-fab .install-badge:hover{filter:saturate(1.07) brightness(1.05)}
.author-fab .install-badge img{display:none}
.author-fab .install-badge svg{width:14px;height:14px;display:block;color:var(--install-badge-ring)}
.author-fab .install-badge.ready{animation: install-pulse 1.2s ease-in-out infinite}
/* Customizable variables for install badge */
:root{
  /* Fine-tuned blue/cyan palette (light) */
  --install-badge-start:#00d4ff;   /* vivid cyan */
  --install-badge-mid:#2ec7ff;     /* sky */
  --install-badge-end:#6aa8ff;     /* soft azure */
  --install-badge-ring:var(--card-bg);
  --install-badge-bg:linear-gradient(135deg,var(--install-badge-start) 0%,var(--install-badge-mid) 52%,var(--install-badge-end) 100%);
}
.koyu{
  /* Slightly deeper tones on dark */
  --install-badge-start:#00c4ff;
  --install-badge-mid:#18a9ff;
  --install-badge-end:#5c8cff;
  --install-badge-ring:#23272f;
  --install-badge-bg:linear-gradient(135deg,var(--install-badge-start) 0%,var(--install-badge-mid) 52%,var(--install-badge-end) 100%);
}
