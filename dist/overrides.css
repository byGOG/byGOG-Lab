/* Header shape + centered search overrides */
.site-header{border-radius:28px;overflow:hidden}
.logo-container{position:relative;z-index:1}
.search-container{position:absolute;left:50%;transform:translateX(-50%);margin-left:0;flex:none;width:min(720px,60vw);max-width:720px}
/* Parallax-ready: add vertical scroll translation via CSS var */
.search-container[data-parallax="true"]{will-change:transform;transform:translateX(-50%) translateY(calc(var(--search-parallax,0) + var(--search-bob,0)))}
/* Header parallax support */
.site-header[data-parallax="true"]{will-change:transform;transform:translateY(var(--header-parallax,0))}
@media (prefers-reduced-motion: reduce){
  .search-container[data-parallax="true"]{transform:translateX(-50%) translateY(0)}
  .site-header[data-parallax="true"]{transform:translateY(0)}
}
/* Global layout safety nets */
html{box-sizing:border-box}
*,*::before,*::after{box-sizing:inherit}
html,body{max-width:100%;overflow-x:hidden}
/* Ensure grid packs densely and reflows smoothly on resize */
ul{grid-auto-flow:row dense}
li{min-width:0}
@media (max-width:900px){
  .search-container{width:min(640px,70vw)}
}
@media (max-width:720px){
  .search-container{position:static;width:100%;max-width:100%}
}

/* Restore vertical motion on mobile/full-width layout */
@media (max-width:720px){
  .search-container[data-parallax="true"]{transform:translateY(calc(var(--search-parallax,0) + var(--search-bob,0)))}
}

/* Mobile responsiveness improvements */
@media (max-width:720px){
  .container{padding:16px 16px 56px}
  .site-header{gap:16px;padding:12px 0 10px;border-radius:20px}
  .logo{max-height:72px}
  .author-fab{right:16px;bottom:16px}
}

@media (max-width:420px){
  .container{padding:12px 12px 56px}
  .logo{max-height:64px}
  /* Slightly compact link items on very small screens */
  ul{gap:10px}
  a{padding:10px 12px}
}

/* Ensure cards always fit on narrow viewports */
@media (max-width:480px){
  ul{grid-template-columns:1fr}
  li{min-width:0}
  .icon-wrapper{margin-right:12px}
  .site-icon{width:24px;height:24px}
  a{font-size:15px}
  /* Avoid off-screen overlays on tiny viewports */
  .custom-tooltip{display:none}
}

/* Resolution-based layout */
/* 1 column on small phones */
@media (max-width:480px){
  ul{grid-template-columns:1fr}
  li{min-width:0}
}
/* 2 columns on phones/phablets */
@media (min-width:481px) and (max-width:768px){
  ul{grid-template-columns:repeat(2,minmax(0,1fr))}
  li{min-width:0}
}
/* 3 columns on tablets/smaller laptops */
@media (min-width:769px) and (max-width:1200px){
  ul{grid-template-columns:repeat(3,minmax(0,1fr))}
  li{min-width:0}
}
/* Let the base grid handle ≥769px (auto-fit with min 240px) */

/* Better text wrapping for long site names */
.link-text{overflow-wrap:anywhere}

@media (max-width:360px){
  .site-icon{width:22px;height:22px}
  a{font-size:14px;padding:9px 10px}
}

/* Final overrides: mobile ergonomics (≤768px) */
@media (max-width:768px){
  li{min-width:0}
  /* Avoid overlay and center-compression on mobile */
  .site-header{position:static;top:auto}
  .container{align-items:stretch}
  li{justify-content:flex-start}
  /* Tighter typographic scale on mobile */
  h2{font-size:20px;margin-top:24px;padding-bottom:6px}
  h3{font-size:17px;margin-top:16px;padding-bottom:4px}
  ul{gap:8px}
  a{padding:9px 12px}
  .site-header{margin-bottom:12px!important}
}
@media (max-width:720px){
  .logo{max-height:60px}
}

/* Columns by resolution across platforms */
/* 1 column on small phones */
@media (max-width:480px){
  ul{grid-template-columns:1fr}
  li{min-width:0}
}
/* 2 columns on phones/phablets/tablets */
@media (min-width:481px) and (max-width:900px){
  ul{grid-template-columns:repeat(2,minmax(0,1fr))}
  li{min-width:0}
}
