const p="tr",y=/[\u0300-\u036f]/g;let s=[];function g(t){return String(t||"").toLocaleLowerCase(p)}function d(t){return g(t).normalize("NFD").replace(y,"").replace(/Ä±/g,"i")}self.addEventListener("message",t=>{const i=t.data||{},{type:a,payload:o}=i;if(a==="seed"){Array.isArray(o)?s=o.map(e=>({index:e.index,folded:typeof e.folded=="string"?e.folded:d(e.text||"")})):s=[];return}if(a==="query"){if(!o)return;const e=o.id,c=o.value||"",l=d(c).split(/\s+/).filter(Boolean);let n;if(!l.length)n=s.map(r=>r.index);else{n=[];for(const r of s){let f=!0;for(const u of l)if(!r.folded.includes(u)){f=!1;break}f&&n.push(r.index)}}self.postMessage({type:"result",payload:{id:e,matches:n}})}});
